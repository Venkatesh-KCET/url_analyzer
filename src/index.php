<?php 

namespace VenkateshKcet\UrlAnalyzer;

require_once "simple_html_dom.php";

class Index
{
	public $domainlist;
    function __construct() {
        // https://data.iana.org/TLD/tlds-alpha-by-domain.txt
        $this->domainlist = ['.', '.ac', '.ad', '.ae', '.af', '.ag', '.ai', '.al', '.am', '.ao', '.aq', '.ar', '.as', '.at', '.au', '.aw', '.ax', '.az', '.ba', '.bb', '.bd', '.be', '.bf', '.bg', '.bh', '.bi', '.bj', '.bm', '.bn', '.bo', '.br', '.bs', '.bt', '.bv', '.bw', '.by', '.bz', '.ca', '.cc', '.cd', '.cf', '.cg', '.ch', '.ci', '.ck', '.cl', '.cm', '.cn', '.co', '.cr', '.cu', '.cv', '.cw', '.cx', '.cy', '.cz', '.de', '.dj', '.dk', '.dm', '.do', '.dz', '.ec', '.ee', '.eg', '.er', '.es', '.et', '.eu', '.fi', '.fj', '.fk', '.fm', '.fo', '.fr', '.ga', '.gb', '.gd', '.ge', '.gf', '.gg', '.gh', '.gi', '.gl', '.gm', '.gn', '.gp', '.gq', '.gr', '.gs', '.gt', '.gu', '.gw', '.gy', '.hk', '.hm', '.hn', '.hr', '.ht', '.hu', '.id', '.ie', '.il', '.im', '.in', '.io', '.iq', '.ir', '.is', '.it', '.je', '.jm', '.jo', '.jp', '.ke', '.kg', '.kh', '.ki', '.km', '.kn', '.kp', '.kr', '.kw', '.ky', '.kz', '.la', '.lb', '.lc', '.li', '.lk', '.lr', '.ls', '.lt', '.lu', '.lv', '.ly', '.ma', '.mc', '.md', '.me', '.mg', '.mh', '.mk', '.ml', '.mm', '.mn', '.mo', '.mp', '.mq', '.mr', '.ms', '.mt', '.mu', '.mv', '.mw', '.mx', '.my', '.mz', '.nc', '.ne', '.nf', '.ng', '.ni', '.nl', '.no', '.np', '.nr', '.nu', '.nz', '.om', '.pa', '.pe', '.pf', '.pg', '.ph', '.pk', '.pl', '.pm', '.pn', '.pr', '.ps', '.pt', '.pw', '.py', '.qa', '.re', '.ro', '.rs', '.ru', '.rw', '.sa', '.sb', '.sc', '.sd', '.se', '.sg', '.sh', '.si', '.sj', '.sk', '.sl', '.sm', '.sn', '.so', '.sr', '.ss', '.st', '.su', '.sv', '.sx', '.sy', '.sz', '.tc', '.td', '.tf', '.tg', '.th', '.tj', '.tk', '.tl', '.tm', '.tn', '.to', '.tr', '.tt', '.tv', '.tw', '.tz', '.ua', '.ug', '.uk', '.us', '.uy', '.uz', '.va', '.vc', '.ve', '.vg', '.vi', '.vn', '.vu', '.wf', '.ws', '.ye', '.yt', '.za', '.zm', '.zw', '.aaa', '.abb', '.abc', '.aco', '.ads', '.aeg', '.afl', '.aig', '.anz', '.aol', '.app', '.art', '.aws', '.axa', '.bar', '.bbc', '.bbt', '.bcg', '.bcn', '.bet', '.bid', '.bio', '.biz', '.bms', '.bmw', '.bom', '.boo', '.bot', '.box', '.buy', '.bzh', '.cab', '.cal', '.cam', '.car', '.cat', '.cba', '.cbn', '.cbs', '.ceo', '.cfa', '.cfd', '.com', '.cpa', '.crs', '.dad', '.day', '.dds', '.dev', '.dhl', '.diy', '.dnp', '.dog', '.dot', '.dtv', '.dvr', '.eat', '.eco', '.edu', '.esq', '.eus', '.fan', '.fit', '.fly', '.foo', '.fox', '.frl', '.ftr', '.fun', '.fyi', '.gal', '.gap', '.gay', '.gdn', '.gea', '.gle', '.gmo', '.gmx', '.goo', '.gop', '.got', '.gov', '.hbo', '.hiv', '.hkt', '.hot', '.how', '.ibm', '.ice', '.icu', '.ifm', '.inc', '.ing', '.ink', '.int', '.ist', '.itv', '.jcb', '.jio', '.jll', '.jmp', '.jnj', '.jot', '.joy', '.kfh', '.kia', '.kim', '.kpn', '.krd', '.lat', '.law', '.lds', '.llc', '.llp', '.lol', '.lpl', '.ltd', '.man', '.map', '.mba', '.med', '.men', '.mil', '.mit', '.mlb', '.mls', '.mma', '.moe', '.moi', '.mom', '.mov', '.msd', '.mtn', '.mtr', '.nab', '.nba', '.nec', '.net', '.new', '.nfl', '.ngo', '.nhk', '.now', '.nra', '.nrw', '.ntt', '.nyc', '.obi', '.one', '.ong', '.onl', '.ooo', '.org', '.ott', '.ovh', '.pay', '.pet', '.phd', '.pid', '.pin', '.pnc', '.pro', '.pru', '.pub', '.pwc', '.red', '.ren', '.ril', '.rio', '.rip', '.run', '.rwe', '.sap', '.sas', '.sbi', '.sbs', '.sca', '.scb', '.sew', '.sex', '.sfr', '.ski', '.sky', '.soy', '.spa', '.srl', '.stc', '.tab', '.tax', '.tci', '.tdk', '.tel', '.thd', '.tjx', '.top', '.trv', '.tui', '.tvs', '.ubs', '.uno', '.uol', '.ups', '.vet', '.vig', '.vin', '.vip', '.wed', '.win', '.wme', '.wow', '.wtc', '.wtf', '.xin', '.xxx', '.xyz', '.you', '.yun', '.zip', '.b.br', '.aarp', '.able', '.aero', '.akdn', '.ally', '.amex', '.arab', '.army', '.arpa', '.arte', '.asda', '.asia', '.audi', '.auto', '.baby', '.band', '.bank', '.bbva', '.beer', '.best', '.bike', '.bing', '.blog', '.blue', '.bofa', '.bond', '.book', '.buzz', '.cafe', '.call', '.camp', '.care', '.cars', '.casa', '.case', '.cash', '.cbre', '.cern', '.chat', '.citi', '.city', '.club', '.cool', '.coop', '.cyou', '.data', '.date', '.dclk', '.deal', '.dell', '.desi', '.diet', '.dish', '.docs', '.dvag', '.erni', '.fage', '.fail', '.fans', '.farm', '.fast', '.fiat', '.fido', '.film', '.fire', '.fish', '.flir', '.food', '.ford', '.free', '.fund', '.game', '.gbiz', '.gent', '.ggee', '.gift', '.gmbh', '.gold', '.golf', '.goog', '.guge', '.guru', '.hair', '.haus', '.hdfc', '.help', '.here', '.hgtv', '.host', '.hsbc', '.icbc', '.ieee', '.imdb', '.immo', '.info', '.itau', '.java', '.jeep', '.jobs', '.jprs', '.kddi', '.kids', '.kiwi', '.kpmg', '.kred', '.land', '.lego', '.lgbt', '.lidl', '.life', '.like', '.limo', '.link', '.live', '.loan', '.love', '.ltda', '.luxe', '.maif', '.meet', '.meme', '.menu', '.mini', '.mint', '.mobi', '.moda', '.moto', '.name', '.navy', '.news', '.next', '.nico', '.nike', '.ollo', '.open', '.page', '.pars', '.pccw', '.pics', '.ping', '.pink', '.play', '.plus', '.pohl', '.porn', '.post', '.prod', '.prof', '.qpon', '.read', '.reit', '.rent', '.rest', '.rich', '.room', '.rsvp', '.ruhr', '.safe', '.sale', '.sarl', '.save', '.saxo', '.scot', '.seat', '.seek', '.sexy', '.shaw', '.shia', '.shop', '.show', '.silk', '.sina', '.site', '.skin', '.sncf', '.sohu', '.song', '.sony', '.spot', '.star', '.surf', '.talk', '.taxi', '.team', '.tech', '.teva', '.tiaa', '.tips', '.town', '.toys', '.tube', '.vana', '.visa', '.viva', '.vivo', '.vote', '.voto', '.wang', '.weir', '.wien', '.wiki', '.wine', '.work', '.xbox', '.yoga', '.zara', '.zero', '.zone', '.re.kr', '.co.kr', '.pe.kr', '.sc.kr', '.kg.kr', '.go.kr', '.or.kr', '.ac.kr', '.es.kr', '.hs.kr', '.한글.kr', '.ms.kr', '.ne.kr', '.tm.za', '.co.za', '.ac.za', '.ed.jp', '.ne.jp', '.or.jp', '.co.jp', '.ac.jp', '.go.jp', '.gr.jp', '.lg.jp', '.ad.jp', '.pp.ru', '.ac.ru', '.am.br', '.mp.br', '.tc.br', '.fm.br', '.tv.br', '.ac.uk', '.bl.uk', '.me.uk', '.co.uk', '.id.au', '.tm.dz', '.co.zm', '.ac.zm', '.in.ua', '.co.nz', '.ac.nz', '.tv.in', '.6g.in', '.ai.in', '.dr.in', '.ac.in', '.5g.in', '.ca.in', '.cn.in', '.cs.in', '.er.in', '.io.in', '.uk.in', '.me.in', '.am.in', '.pg.in', '.up.in', '.us.in', '.co.in', '.co.il', '.ac.il', '.ac.at', '.gv.at', '.co.at', '.or.at', '.tm.hu', '.co.hu', '.mi.th', '.in.th', '.go.th', '.or.th', '.ac.th', '.co.th', '.ac.lk', '.dr.tr', '.av.tr', '.tv.tr', '.co.tt', '.actor', '.adult', '.aetna', '.amfam', '.amica', '.apple', '.archi', '.audio', '.autos', '.azure', '.baidu', '.beats', '.bible', '.bingo', '.black', '.boats', '.bosch', '.build', '.canon', '.cards', '.chase', '.cheap', '.cisco', '.citic', '.click', '.cloud', '.coach', '.codes', '.crown', '.cymru', '.dabur', '.dance', '.deals', '.delta', '.drive', '.dubai', '.earth', '.edeka', '.email', '.epson', '.faith', '.fedex', '.final', '.forex', '.forum', '.gallo', '.games', '.gifts', '.gives', '.glass', '.globo', '.gmail', '.green', '.gripe', '.group', '.gucci', '.guide', '.homes', '.honda', '.horse', '.house', '.hyatt', '.ikano', '.irish', '.jetzt', '.koeln', '.kyoto', '.lamer', '.lease', '.legal', '.lexus', '.lilly', '.lipsy', '.loans', '.locus', '.lotte', '.lotto', '.mango', '.media', '.miami', '.money', '.movie', '.music', '.nexus', '.nikon', '.ninja', '.nokia', '.nowtv', '.omega', '.osaka', '.paris', '.parts', '.party', '.phone', '.photo', '.pizza', '.place', '.poker', '.praxi', '.press', '.prime', '.promo', '.quest', '.radio', '.rehab', '.reise', '.ricoh', '.rocks', '.rodeo', '.rugby', '.salon', '.sener', '.seven', '.sharp', '.shell', '.shoes', '.skype', '.sling', '.smart', '.smile', '.solar', '.space', '.sport', '.stada', '.store', '.study', '.style', '.sucks', '.swiss', '.tatar', '.tires', '.tirol', '.tmall', '.today', '.tokyo', '.tools', '.toray', '.total', '.tours', '.trade', '.trust', '.tunes', '.tushu', '.ubank', '.vegas', '.video', '.vodka', '.volvo', '.wales', '.watch', '.weber', '.weibo', '.works', '.world', '.xerox', '.yahoo', '.mil.kr', '.mil.za', '.edu.za', '.gov.za', '.nom.za', '.ngo.za', '.nis.za', '.web.za', '.law.za', '.alt.za', '.org.za', '.net.za', '.gog.pk', '.res.pk', '.web.pk', '.gkp.pk', '.mil.pk', '.gob.pk', '.gov.pk', '.biz.pk', '.com.pk', '.net.pk', '.gok.pk', '.fam.pk', '.gop.pk', '.gos.pk', '.ltd.pk', '.edu.pk', '.org.pk', '.kms.ru', '.nkz.ru', '.org.ru', '.bir.ru', '.com.ru', '.gov.ru', '.nsk.ru', '.tlt.ru', '.udm.ru', '.mil.ru', '.tom.ru', '.cmw.ru', '.jar.ru', '.edu.ru', '.cbg.ru', '.net.ru', '.stv.ru', '.mos.ru', '.cap.ru', '.khv.ru', '.msk.ru', '.snz.ru', '.rnd.ru', '.int.ru', '.nov.ru', '.vrn.ru', '.spb.ru', '.ptz.ru', '.tsk.ru', '.ecn.br', '.def.br', '.dev.br', '.fst.br', '.foz.br', '.tur.br', '.emp.br', '.cim.br', '.bsb.br', '.nom.br', '.app.br', '.gru.br', '.mil.br', '.tmp.br', '.jus.br', '.gov.br', '.slz.br', '.eco.br', '.far.br', '.med.br', '.bmd.br', '.cnt.br', '.trd.br', '.psc.br', '.esp.br', '.jor.br', '.aju.br', '.ong.br', '.vix.br', '.net.br', '.vet.br', '.bhz.br', '.ggf.br', '.mat.br', '.sjc.br', '.bio.br', '.cng.br', '.log.br', '.etc.br', '.des.br', '.bib.br', '.jab.br', '.fot.br', '.lel.br', '.agr.br', '.ppg.br', '.seg.br', '.mus.br', '.leg.br', '.the.br', '.geo.br', '.adv.br', '.zlg.br', '.not.br', '.poa.br', '.ntr.br', '.slg.br', '.udi.br', '.org.br', '.pvh.br', '.eti.br', '.ato.br', '.abc.br', '.art.br', '.pro.br', '.psi.br', '.tec.br', '.odo.br', '.teo.br', '.coz.br', '.enf.br', '.rio.br', '.com.br', '.fnd.br', '.edu.br', '.det.br', '.srv.br', '.arq.br', '.adm.br', '.eng.br', '.ind.br', '.rep.br', '.imb.br', '.qsl.br', '.rec.br', '.jdf.br', '.inf.br', '.nhs.uk', '.sch.uk', '.nic.uk', '.mod.uk', '.net.uk', '.ltd.uk', '.rct.uk', '.gov.uk', '.org.uk', '.plc.uk', '.gov.au', '.edu.au', '.net.au', '.asn.au', '.org.au', '.com.au', '.gov.dz', '.org.dz', '.pol.dz', '.art.dz', '.edu.dz', '.com.dz', '.net.dz', '.soc.dz', '.net.zm', '.biz.zm', '.com.zm', '.edu.zm', '.mil.zm', '.org.zm', '.sch.zm', '.gov.zm', '.cci.fr', '.prd.fr', '.dni.us', '.nsn.us', '.isa.us', '.fed.us', '.gov.ua', '.net.ua', '.edu.ua', '.com.ua', '.org.ua', '.gob.es', '.com.es', '.org.es', '.nom.es', '.edu.es', '.org.nz', '.iwi.nz', '.mil.nz', '.net.nz', '.gen.nz', '.cri.nz', '.gov.in', '.net.in', '.edu.in', '.res.in', '.biz.in', '.pro.in', '.ind.in', '.mil.in', '.com.in', '.int.in', '.gen.in', '.org.in', '.net.il', '.gov.il', '.org.il', '.k12.il', '.idf.il', '.org.hu', '.sex.hu', '.net.hu', '.edu.hu', '.gov.hu', '.net.th', '.org.lk', '.web.lk', '.sch.lk', '.soc.lk', '.com.lk', '.int.lk', '.ltd.lk', '.gov.lk', '.edu.lk', '.grp.lk', '.net.lk', '.ngo.lk', '.nom.tr', '.edu.tr', '.com.tr', '.bel.tr', '.org.tr', '.tsk.tr', '.gov.tr', '.k12.tr', '.gen.tr', '.web.tr', '.bbs.tr', '.mil.tr', '.kep.tr', '.pol.tr', '.tel.tr', '.biz.tr', '.net.tr', '.gov.tt', '.com.tt', '.org.tt', '.net.tt', '.tel.tt', '.mil.tt', '.edu.tt', '.abarth', '.abbott', '.abbvie', '.africa', '.agency', '.airbus', '.airtel', '.alipay', '.alsace', '.alstom', '.amazon', '.anquan', '.aramco', '.author', '.bayern', '.beauty', '.berlin', '.bharti', '.bostik', '.boston', '.broker', '.camera', '.career', '.casino', '.center', '.chanel', '.chrome', '.church', '.circle', '.claims', '.clinic', '.coffee', '.comsec', '.condos', '.coupon', '.credit', '.cruise', '.dating', '.datsun', '.dealer', '.degree', '.dental', '.design', '.direct', '.doctor', '.dunlop', '.dupont', '.durban', '.emerck', '.energy', '.estate', '.events', '.expert', '.family', '.flickr', '.futbol', '.gallup', '.garden', '.george', '.giving', '.global', '.google', '.gratis', '.health', '.hermes', '.hiphop', '.hockey', '.hotels', '.hughes', '.imamat', '.insure', '.intuit', '.jaguar', '.joburg', '.juegos', '.kaufen', '.kinder', '.kindle', '.kosher', '.lancia', '.latino', '.lawyer', '.lefrak', '.living', '.locker', '.london', '.luxury', '.madrid', '.maison', '.makeup', '.market', '.mattel', '.mobile', '.monash', '.mormon', '.moscow', '.museum', '.mutual', '.nagoya', '.natura', '.nissan', '.nissay', '.norton', '.nowruz', '.office', '.olayan', '.online', '.oracle', '.orange', '.otsuka', '.pfizer', '.photos', '.physio', '.pictet', '.quebec', '.racing', '.realty', '.reisen', '.repair', '.report', '.review', '.rocher', '.rogers', '.ryukyu', '.safety', '.sakura', '.sanofi', '.school', '.schule', '.search', '.secure', '.select', '.shouji', '.soccer', '.social', '.stream', '.studio', '.supply', '.suzuki', '.swatch', '.sydney', '.taipei', '.taobao', '.target', '.tattoo', '.tennis', '.tienda', '.tjmaxx', '.tkmaxx', '.toyota', '.travel', '.unicom', '.viajes', '.viking', '.villas', '.virgin', '.vision', '.voting', '.voyage', '.vuelos', '.walter', '.webcam', '.xihuan', '.yachts', '.yandex', '.zappos', '.jeju.kr', '.komi.ru', '.perm.ru', '.mari.ru', '.chel.ru', '.nnov.ru', '.amur.ru', '.kchr.ru', '.tver.ru', '.tuva.ru', '.omsk.ru', '.tula.ru', '.flog.br', '.coop.br', '.blog.br', '.vlog.br', '.wiki.br', '.taxi.br', '.asso.dz', '.info.zm', '.port.fr', '.sumy.ua', '.lviv.ua', '.kyiv.ua', '.kiwi.nz', '.govt.nz', '.geek.nz', '.post.in', '.coop.in', '.firm.in', '.info.in', '.muni.il', '.priv.at', '.2000.hu', '.priv.hu', '.film.hu', '.news.hu', '.szex.hu', '.bolt.hu', '.info.hu', '.city.hu', '.suli.hu', '.shop.hu', '.mobi.hu', '.assn.lk', '.info.tr', '.name.tr', '.name.tt', '.aero.tt', '.abogado', '.academy', '.agakhan', '.alibaba', '.android', '.athleta', '.auction', '.audible', '.auspost', '.avianca', '.banamex', '.bauhaus', '.bentley', '.bestbuy', '.booking', '.brother', '.capital', '.caravan', '.careers', '.channel', '.charity', '.chintai', '.citadel', '.clubmed', '.college', '.cologne', '.comcast', '.company', '.compare', '.contact', '.cooking', '.corsica', '.country', '.coupons', '.courses', '.cricket', '.cruises', '.dentist', '.digital', '.domains', '.exposed', '.express', '.farmers', '.fashion', '.ferrari', '.ferrero', '.finance', '.fishing', '.fitness', '.flights', '.florist', '.flowers', '.forsale', '.frogans', '.fujitsu', '.gallery', '.genting', '.godaddy', '.grocery', '.guitars', '.hamburg', '.hangout', '.hitachi', '.holiday', '.hosting', '.hoteles', '.hotmail', '.hyundai', '.ismaili', '.jewelry', '.juniper', '.kitchen', '.komatsu', '.lacaixa', '.lanxess', '.lasalle', '.latrobe', '.leclerc', '.limited', '.lincoln', '.markets', '.monster', '.netbank', '.netflix', '.network', '.neustar', '.okinawa', '.oldnavy', '.organic', '.origins', '.philips', '.pioneer', '.politie', '.realtor', '.recipes', '.rentals', '.reviews', '.rexroth', '.samsung', '.sandvik', '.schmidt', '.schwarz', '.science', '.shiksha', '.singles', '.staples', '.storage', '.support', '.surgery', '.systems', '.temasek', '.theater', '.theatre', '.tickets', '.tiffany', '.toshiba', '.trading', '.walmart', '.wanggou', '.watches', '.weather', '.website', '.wedding', '.whoswho', '.windows', '.winners', '.xfinity', '.yamaxun', '.youtube', '.zuerich', '.busan.kr', '.seoul.kr', '.daegu.kr', '.ulsan.kr', '.agric.za', '.pskov.ru', '.chita.ru', '.jamal.ru', '.kursk.ru', '.kirov.ru', '.tomsk.ru', '.penza.ru', '.mytis.ru', '.altai.ru', '.kazan.ru', '.yamal.ru', '.kuban.ru', '.oryol.ru', '.oskol.ru', '.feira.br', '.belem.br', '.natal.br', '.radio.br', '.sampa.br', '.jampa.br', '.anani.br', '.royal.uk', '.ukaea.uk', '.csiro.au', '.greta.fr', '.odesa.ua', '.yalta.ua', '.rivne.ua', '.lutsk.ua', '.maori.nz', '.ernet.in', '.bihar.in', '.delhi.in', '.lakas.hu', '.hotel.hu', '.forum.hu', '.sport.hu', '.games.hu', '.video.hu', '.media.hu', '.agrar.hu', '.hotel.lk', '.เน็ต.ไทย', '.ทหาร.ไทย', '.abudhabi', '.airforce', '.allstate', '.attorney', '.barclays', '.barefoot', '.bargains', '.baseball', '.boutique', '.bradesco', '.broadway', '.brussels', '.builders', '.business', '.capetown', '.catering', '.catholic', '.cipriani', '.cityeats', '.cleaning', '.clinique', '.clothing', '.commbank', '.computer', '.delivery', '.deloitte', '.democrat', '.diamonds', '.discount', '.discover', '.download', '.engineer', '.ericsson', '.etisalat', '.exchange', '.feedback', '.fidelity', '.firmdale', '.football', '.frontier', '.goodyear', '.grainger', '.graphics', '.guardian', '.hdfcbank', '.helsinki', '.holdings', '.hospital', '.infiniti', '.ipiranga', '.istanbul', '.jpmorgan', '.lighting', '.lundbeck', '.marriott', '.maserati', '.mckinsey', '.memorial', '.merckmsd', '.mortgage', '.observer', '.partners', '.pharmacy', '.pictures', '.plumbing', '.property', '.redstone', '.reliance', '.saarland', '.samsclub', '.security', '.services', '.shopping', '.showtime', '.softbank', '.software', '.stcgroup', '.supplies', '.training', '.vanguard', '.ventures', '.verisign', '.woodside', '.xn--90ae', '.xn--node', '.xn--p1ai', '.xn--qxam', '.yokohama', '.vyatka.ru', '.samara.ru', '.tambov.ru', '.vdonsk.ru', '.koenig.ru', '.e-burg.ru', '.grozny.ru', '.ryazan.ru', '.syzran.ru', '.surgut.ru', '.kurgan.ru', '.kaluga.ru', '.marine.ru', '.amursk.ru', '.baikal.ru', '.mosreg.ru', '.tyumen.ru', '.9guacu.br', '.recife.br', '.caxias.br', '.cuiaba.br', '.manaus.br', '.morena.br', '.osasco.br', '.palmas.br', '.fortal.br', '.macapa.br', '.maceio.br', '.צהל.ישראל', '.police.uk', '.avoues.fr', '.crimea.ua', '.health.nz', '.school.nz', '.travel.in', '.tozsde.hu', '.jogasz.hu', '.casino.hu', '.reklam.hu', '.utazas.hu', '.ศึกษา.ไทย', '.travel.tt', '.museum.tt', '.accenture', '.alfaromeo', '.allfinanz', '.amsterdam', '.analytics', '.aquarelle', '.barcelona', '.bloomberg', '.christmas', '.community', '.directory', '.education', '.equipment', '.fairwinds', '.financial', '.firestone', '.fresenius', '.frontdoor', '.furniture', '.goldpoint', '.hisamitsu', '.homedepot', '.homegoods', '.homesense', '.institute', '.insurance', '.kuokgroup', '.lancaster', '.landrover', '.lifestyle', '.marketing', '.marshalls', '.melbourne', '.microsoft', '.panasonic', '.passagens', '.pramerica', '.richardli', '.shangrila', '.solutions', '.statebank', '.statefarm', '.stockholm', '.travelers', '.vacations', '.xn--90ais', '.xn--c1avg', '.xn--d1alf', '.xn--e1a4c', '.xn--fhbei', '.xn--j1aef', '.xn--j1amh', '.xn--l1acc', '.xn--ngbrx', '.xn--nqv7f', '.xn--p1acf', '.xn--qxa6a', '.xn--tckwe', '.xn--vhquv', '.yodobashi', '.gwangju.kr', '.jeonbuk.kr', '.daejeon.kr', '.incheon.kr', '.jeonnam.kr', '.gangwon.kr', '.grondar.za', '.vologda.ru', '.yakutia.ru', '.saratov.ru', '.kuzbass.ru', '.mari-el.ru', '.adygeya.ru', '.ivanovo.ru', '.irkutsk.ru', '.nalchik.ru', '.lipetsk.ru', '.karelia.ru', '.norilsk.ru', '.izhevsk.ru', '.bryansk.ru', '.magadan.ru', '.fareast.ru', '.niteroi.br', '.maringa.br', '.goiania.br', '.barueri.br', '.floripa.br', '.ישוב.ישראל', '.ממשל.ישראל', '.medecin.fr', '.lugansk.ua', '.kherson.ua', '.vinnica.ua', '.poltava.ua', '.donetsk.ua', '.kharkiv.ua', '.gujarat.in', '.erotika.hu', '.erotica.hu', '.รัฐบาล.ไทย', '.องค์กร.ไทย', '.ธุรกิจ.ไทย', '.charity.tt', '.accountant', '.apartments', '.associates', '.basketball', '.bnpparibas', '.boehringer', '.capitalone', '.consulting', '.creditcard', '.cuisinella', '.eurovision', '.extraspace', '.foundation', '.healthcare', '.immobilien', '.industries', '.management', '.mitsubishi', '.nextdirect', '.properties', '.protection', '.prudential', '.realestate', '.republican', '.restaurant', '.schaeffler', '.tatamotors', '.technology', '.university', '.vlaanderen', '.volkswagen', '.xn--30rr7y', '.xn--3pxu8k', '.xn--45q11c', '.xn--4gbrim', '.xn--55qx5d', '.xn--5tzm5g', '.xn--80aswg', '.xn--90a3ac', '.xn--9dbq2a', '.xn--9et52u', '.xn--c2br7g', '.xn--cg4bki', '.xn--czrs0t', '.xn--czru2d', '.xn--fiq64b', '.xn--fiqs8s', '.xn--fiqz9s', '.xn--io0a7i', '.xn--kput3i', '.xn--mxtq1m', '.xn--o3cw4h', '.xn--pssy2u', '.xn--q7ce6a', '.xn--unup4y', '.xn--wgbh1c', '.xn--wgbl6a', '.xn--y9a3aq', '.chungbuk.kr', '.gyeonggi.kr', '.chungnam.kr', '.kustanai.ru', '.vladimir.ru', '.ulan-ude.ru', '.murmansk.ru', '.simbirsk.ru', '.sakhalin.ru', '.dagestan.ru', '.k-uralsk.ru', '.mordovia.ru', '.buryatia.ru', '.magnitka.ru', '.kalmykia.ru', '.kostroma.ru', '.udmurtia.ru', '.orenburg.ru', '.smolensk.ru', '.chukotka.ru', '.nakhodka.ru', '.kemerovo.ru', '.voronezh.ru', '.belgorod.ru', '.contagem.br', '.salvador.br', '.sorocaba.br', '.londrina.br', '.campinas.br', '.curitiba.br', '.boavista.br', '.riopreto.br', '.ribeirao.br', '.saogonca.br', '.aeroport.fr', '.notaires.fr', '.cherkasy.ua', '.ternopil.ua', '.nikolaev.ua', '.uzhgorod.ua', '.zhitomir.ua', '.business.in', '.internet.in', '.konyvelo.hu', '.ingatlan.hu', '.accountants', '.barclaycard', '.blackfriday', '.blockbuster', '.bridgestone', '.calvinklein', '.contractors', '.creditunion', '.engineering', '.enterprises', '.foodnetwork', '.investments', '.kerryhotels', '.lamborghini', '.motorcycles', '.olayangroup', '.photography', '.playstation', '.productions', '.progressive', '.redumbrella', '.williamhill', '.xn--11b4c3d', '.xn--1ck2e1b', '.xn--1qqw23a', '.xn--2scrj9c', '.xn--3bst00m', '.xn--3ds443g', '.xn--3hcrj9c', '.xn--42c2d9a', '.xn--45brj9c', '.xn--55qw42g', '.xn--6frz82g', '.xn--80ao21a', '.xn--9krt00a', '.xn--cck2b3b', '.xn--czr694b', '.xn--d1acj3b', '.xn--efvy88h', '.xn--fct429k', '.xn--fjq720a', '.xn--flw351e', '.xn--g2xx48c', '.xn--gecrj9c', '.xn--gk3at1e', '.xn--h2brj9c', '.xn--hxt814e', '.xn--imr513n', '.xn--j6w193g', '.xn--jvr189m', '.xn--kprw13d', '.xn--kpry57d', '.xn--mgbbh1a', '.xn--mgbtx2b', '.xn--mix891f', '.xn--nyqy26a', '.xn--otu796d', '.xn--pgbs0dh', '.xn--q9jyb4c', '.xn--rhqv96g', '.xn--rovu88b', '.xn--s9brj9c', '.xn--ses554g', '.xn--t60b56a', '.xn--vuq861b', '.xn--w4rs40l', '.xn--xhq521b', '.xn--zfr164b', '.gyeongnam.kr', '.gyeongbuk.kr', '.lp.school.za', '.fs.school.za', '.gp.school.za', '.nw.school.za', '.tsaritsyn.ru', '.yaroslavl.ru', '.rubtsovsk.ru', '.stavropol.ru', '.astrakhan.ru', '.khakassia.ru', '.volgograd.ru', '.bashkiria.ru', '.kamchatka.ru', '.tatarstan.ru', '.riobranco.br', '.joinville.br', '.aparecida.br', '.אקדמיה.ישראל', '.judiciary.uk', '.chambagri.fr', '.chernigov.ua', '.construction', '.lplfinancial', '.scholarships', '.versicherung', '.xn--3e0b707e', '.xn--45br5cyl', '.xn--4dbrk0ce', '.xn--80adxhks', '.xn--80asehdb', '.xn--8y0a063a', '.xn--gckr3f0f', '.xn--mgb9awbf', '.xn--mgbab2bd', '.xn--mgbgu82a', '.xn--mgbpl2fh', '.xn--mgbt3dhd', '.xn--mk1bu44c', '.xn--ngbc5azd', '.xn--ngbe9e0a', '.xn--ogbpf8fl', '.xn--qcka1pmc', '.mpm.school.za', '.kzn.school.za', '.pyatigorsk.ru', '.khabarovsk.ru', '.santamaria.br', '.santoandre.br', '.parliament.uk', '.pharmacien.fr', '.kirovograd.ua', '.chernivtsi.ua', '.sevastopol.ua', '.parliament.nz', '.international', '.lifeinsurance', '.travelchannel', '.wolterskluwer', '.xn--cckwcxetd', '.xn--eckvdtc9d', '.xn--fpcrj9c3d', '.xn--fzc2c9e2c', '.xn--h2brj9c8c', '.xn--tiq49xqyj', '.xn--yfro4i67o', '.xn--ygbi2ammx', '.joshkar-ola.ru', '.krasnoyarsk.ru', '.chelyabinsk.ru', '.vladivostok.ru', '.vladikavkaz.ru', '.novosibirsk.ru', '.arkhangelsk.ru', '.saobernardo.br', '.veterinaire.fr', '.zaporizhzhe.ua', '.americanfamily', '.bananarepublic', '.cookingchannel', '.kerrylogistics', '.weatherchannel', '.xn--54b7fta0cc', '.xn--6qq986b3xl', '.xn--80aqecdr1a', '.xn--b4w605ferd', '.xn--fiq228c5hs', '.xn--h2breg3eve', '.xn--jlq480n2rg', '.xn--mgba3a3ejt', '.xn--mgbaam7a8h', '.xn--mgbayh7gpa', '.xn--mgbbh1a71e', '.xn--mgbca7dzdo', '.xn--mgbi4ecexp', '.xn--mgbx4cd0ab', '.xn--rvc1e0am3e', '.wcape.school.za', '.ncape.school.za', '.ecape.school.za', '.khmelnitskiy.ua', '.americanexpress', '.kerryproperties', '.sandvikcoromant', '.xn--i1b6b1a6a2e', '.xn--kcrx77d1x4a', '.xn--lgbbat1ad8j', '.xn--mgba3a4f16a', '.xn--mgbaakc7dvf', '.xn--mgbc0a9azcg', '.xn--nqv7fs00ema', '.yekaterinburg.ru', '.campinagrande.br', '.xn--fzys8d69uvgm', '.xn--mgba7c0bbn0a', '.xn--mgbcpq6gpa1a', '.xn--xkc2al3hye2a', '.dnipropetrovsk.ua', '.xn--5su34j936bgsg', '.xn--bck1b9a5dre4c', '.xn--mgbah1a3hjkrd', '.xn--mgbai9azgqp6j', '.xn--mgberp4a5d4ar', '.xn--xkc2dl3a5ee0h', '.geometre-expert.fr', '.ivano-frankivsk.ua', '.northwesternmutual', '.travelersinsurance', '.huissier-justice.fr', '.yuzhno-sakhalinsk.ru', '.xn--w4r85el8fhu5dnra', '.experts-comptables.fr', '.xn--clchc0ea0b2g2a9gcd', '.xn--vermgensberater-ctb', '.chirurgiens-dentistes.fr', '.xn--vermgensberatung-pwb'];
    }

    public function endswith($string, $endString)
    {
      $len = strlen($endString);
      if ($len == 0) {
        return true;
      }
      return substr($string, -$len) === $endString;
    }

    public function check_domain($domain) {
        $domainlower = strtolower($domain);
        foreach($this->domainlist as $d) {
            if ($this->endswith($domainlower, $d)) {
                $domsplit1 = substr($domain, 0, strlen($domain)-strlen($d));
                $domsplit2 = explode(".", $domsplit1);
                $maindo = array_pop($domsplit2);
                $subdo = implode(".", $domsplit2);

                return [$d, $domsplit1, $maindo, $subdo];
            }
        }
        return ["", "", "", ""];
    }

    public function uri_validator($url) {
        if (filter_var($url, FILTER_VALIDATE_URL)) {
            return true;
        } else {
            return false;
        }
    }

    public function get_url_df($urls, $join_relative_link_with="") {
        $l = $urls;
        $mainurl = $join_relative_link_with;
        $splitted_main_url = parse_url($mainurl);
        $allfo = [];
        foreach($l as $urltest) {
            if (strpos($urltest, $join_relative_link_with) !== true) {
                $urltest = $join_relative_link_with.$urltest;
                $urltest = str_replace("//", "/", $urltest);
                $urltest = str_replace(":/", "://", $urltest);
            }
            $p = parse_url($urltest);
            if(!$this->uri_validator($urltest)) {
                $isrelative = true;
                $newurl = $urltest;
            } else {
                $isrelative = false;
                $newurl = "";
            }
            $temp = [];
            foreach($p as $k => $v) {
                $temp[$k] = $v;
            }
            $temp["valid"] = $isrelative;
            $temp["relative_url"] = $urltest;
            $nd = $this->check_domain($temp["scheme"]."://".$temp["host"]);
            $temp["toplevel"] = $nd[0];
            $temp["url_query"] = $nd[1];
            $temp["domain_name"] = $nd[2];
            $temp["domain"] = $nd[2].".".$nd[0];
            $temp["sub_domain_query"] = $nd[3];
            $temp["sub_domain"] = str_replace("https://", "", $nd[3]);
            $temp["sub_domain"] = str_replace("http://", "", $temp["sub_domain"]);
            $allfo[] = $temp;
        }

        return $allfo;
    }

    public function get_all_links_from_html($url, $htmlcode) {
        $soup = str_get_html($htmlcode);
        $allurls = [];
        foreach($soup->find('[src]]') as $element)
            $allurls[] = $element->src;
        foreach($soup->find('[href]') as $element)
            $allurls[] = $element->href;

        $dax = $this->get_url_df($allurls, $url);
        return $dax;
    }

    public function get_all_links_from_url($url) {
        $soup = file_get_html($url);
        $allurls = [];
        foreach($soup->find('[src]]') as $element)
            $allurls[] = $element->src;
        foreach($soup->find('[href]') as $element)
            $allurls[] = $element->href;

        $dax = $this->get_url_df($allurls, $url);
        return $dax;

    }
}